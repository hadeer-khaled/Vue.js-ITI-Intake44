<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Books Store</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous" />
    <link href="./assets/css/fontawesome.css" rel="stylesheet" />
    <link href="./assets/css/brands.css" rel="stylesheet" />
    <link href="./assets/css/solid.css" rel="stylesheet" />
    <link rel="stylesheet" href="./style.css" />
    <script src="./vueVersion3.js"></script>
  </head>
  <body>
    <div id="app-container">
      <!-- Navabr -->
      <nav class="navbar navbar-expand-lg bg-body-tertiary mb-4">
        <div class="container-fluid">
          <a
            class="navbar-brand"
            href="#"
            @click.prevent="isWishlistVisible=false"
            >Books</a
          >
          <div>
            <button
              class="btn btn-outline-primary"
              type="submit"
              @click="isWishlistVisible=true">
              WishList
            </button>
          </div>
        </div>
      </nav>
      <!--End Navabr -->
      <!-- Products -->
      <div class="container products-container" v-if="isWishlistVisible==false">
        <div class="row">
          <div
            v-for="book in books"
            class="mb-3 mx-auto col-3 col-sm-12 col-md-6 col-lg-3">
            <div class="card">
              <img
                v-bind:src="book.imageLink"
                class="card-img-top"
                alt="book cover"
                style="width: 100%" />
              <div class="card-body">
                <h5 class="card-title">{{book.title}}</h5>
                <p class="card-text">{{book.author}}</p>
                <p class="card-text">{{book.category}}</p>
                <p class="card-text">Prics: {{book.price}}</p>
                <p class="card-text">ISBN: {{book.ISBN}}</p>
                <p v-bind:class="getPagesColor(book)">Pges: {{book.pages}}</p>
                <button class="btn btn-primary" @click="addToWishlist(book)">
                  Add To Wishlist
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Cart -->
      <div class="whistlist-container container" v-if="isWishlistVisible==true">
        <h2 class="text-center" v-if="wishlist.items.length==0">
          The Wishlist is Empty
        </h2>
        <table class="table table-hover" v-if="wishlist.items.length!=0">
          <thead>
            <tr>
              <th scope="col">Image</th>
              <th scope="col">Title</th>
              <th scope="col">Price</th>
              <th scope="col">Action</th>
            </tr>
          </thead>
          <tbody>
            <tr v-for="item in wishlist.items">
              <td><img v-bind:src="item.imageLink" / style="width: 50px;"></td>
              <td>{{item.title}}</td>
              <td>{{item.price}}</td>
              <td><i class="fa-solid fa-trash" style="color: brown"></i></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <script src="./books.js"></script>
    <script>
      Vue.createApp({
        data: () => ({
          books: books,
          isWishlistVisible: false,
          wishlist: {
            items: [],
          },
        }),
        methods: {
          addToWishlist(book) {
            this.wishlist.items.push(book);
          },
        },
        computed: {
          getPagesColor(book) {
            return function (book) {
              if (book.pages < 200) {
                return "low";
              } else if (book.pages < 600) {
                return "medium";
              } else {
                return "large";
              }
            };
          },
        },
      }).mount("#app-container");
    </script>
  </body>
</html>
